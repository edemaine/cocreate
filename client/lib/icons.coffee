###
The `icons` content below is edited SVG from Font Awesome Free which is
licensed under CC BY 4.0.  See https://fontawesome.com/ and
https://creativecommons.org/licenses/by/4.0/, respectively.

When icons are modified significantly, their source SVG is in the
subdirectory `.iconsrc`.
###

icons =
  'arrows-alt':
    '<path d="M352.201 425.775l-79.196 79.196c-9.373 9.373-24.568 9.373-33.941 0l-79.196-79.196c-15.119-15.119-4.411-40.971 16.971-40.97h51.162L228 284H127.196v51.162c0 21.382-25.851 32.09-40.971 16.971L7.029 272.937c-9.373-9.373-9.373-24.569 0-33.941L86.225 159.8c15.119-15.119 40.971-4.411 40.971 16.971V228H228V127.196h-51.23c-21.382 0-32.09-25.851-16.971-40.971l79.196-79.196c9.373-9.373 24.568-9.373 33.941 0l79.196 79.196c15.119 15.119 4.411 40.971-16.971 40.971h-51.162V228h100.804v-51.162c0-21.382 25.851-32.09 40.97-16.971l79.196 79.196c9.373 9.373 9.373 24.569 0 33.941L425.773 352.2c-15.119 15.119-40.971 4.411-40.97-16.971V284H284v100.804h51.23c21.382 0 32.09 25.851 16.971 40.971z"/>'
  circle:
    '<path d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"/>'
  clone:
    '<path d="M464 0H144c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h320c26.51 0 48-21.49 48-48v-48h48c26.51 0 48-21.49 48-48V48c0-26.51-21.49-48-48-48zM362 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h42v224c0 26.51 21.49 48 48 48h224v42a6 6 0 0 1-6 6zm96-96H150a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h308a6 6 0 0 1 6 6v308a6 6 0 0 1-6 6z"/>'
  'door-open':
    '<path d="M624 448h-80V113.45C544 86.19 522.47 64 496 64H384v64h96v384h144c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM312.24 1.01l-192 49.74C105.99 54.44 96 67.7 96 82.92V448H16c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h336V33.18c0-21.58-19.56-37.41-39.76-32.17zM264 288c-13.25 0-24-14.33-24-32s10.75-32 24-32 24 14.33 24 32-10.75 32-24 32z"/>'
  eraser:
    '<path d="M497.941 273.941c18.745-18.745 18.745-49.137 0-67.882l-160-160c-18.745-18.745-49.136-18.746-67.883 0l-256 256c-18.745 18.745-18.745 49.137 0 67.882l96 96A48.004 48.004 0 0 0 144 480h356c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12H355.883l142.058-142.059zm-302.627-62.627l137.373 137.373L265.373 416H150.628l-80-80 124.686-124.686z"/>'
  #'file-image':
  #  '<path d="M384 121.941V128H256V0h6.059a24 24 0 0 1 16.97 7.029l97.941 97.941a24.002 24.002 0 0 1 7.03 16.971zM248 160c-13.2 0-24-10.8-24-24V0H24C10.745 0 0 10.745 0 24v464c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24V160H248zm-135.455 16c26.51 0 48 21.49 48 48s-21.49 48-48 48-48-21.49-48-48 21.491-48 48-48zm208 240h-256l.485-48.485L104.545 328c4.686-4.686 11.799-4.201 16.485.485L160.545 368 264.06 264.485c4.686-4.686 12.284-4.686 16.971 0L320.545 304v112z"/>'
  github:
    '<path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/>'
  'hand-pointer':
    '<path d="M448 240v96c0 3.084-.356 6.159-1.063 9.162l-32 136C410.686 499.23 394.562 512 376 512H168a40.004 40.004 0 0 1-32.35-16.473l-127.997-176c-12.993-17.866-9.043-42.883 8.822-55.876 17.867-12.994 42.884-9.043 55.877 8.823L104 315.992V40c0-22.091 17.908-40 40-40s40 17.909 40 40v200h8v-40c0-22.091 17.908-40 40-40s40 17.909 40 40v40h8v-24c0-22.091 17.908-40 40-40s40 17.909 40 40v24h8c0-22.091 17.908-40 40-40s40 17.909 40 40zm-256 80h-8v96h8v-96zm88 0h-8v96h8v-96zm88 0h-8v96h8v-96z"/>'
  history:
    '<path d="M504 255.531c.253 136.64-111.18 248.372-247.82 248.468-59.015.042-113.223-20.53-155.822-54.911-11.077-8.94-11.905-25.541-1.839-35.607l11.267-11.267c8.609-8.609 22.353-9.551 31.891-1.984C173.062 425.135 212.781 440 256 440c101.705 0 184-82.311 184-184 0-101.705-82.311-184-184-184-48.814 0-93.149 18.969-126.068 49.932l50.754 50.754c10.08 10.08 2.941 27.314-11.313 27.314H24c-8.837 0-16-7.163-16-16V38.627c0-14.254 17.234-21.393 27.314-11.314l49.372 49.372C129.209 34.136 189.552 8 256 8c136.81 0 247.747 110.78 248 247.531zm-180.912 78.784l9.823-12.63c8.138-10.463 6.253-25.542-4.21-33.679L288 256.349V152c0-13.255-10.745-24-24-24h-16c-13.255 0-24 10.745-24 24v135.651l65.409 50.874c10.463 8.137 25.541 6.253 33.679-4.21z"/>'
  'mouse-pointer':
    '<path d="M398.2,329.1H292.1l55.8,136c3.9,9.4-0.6,20-9.4,24l-49.2,21.4c-9.2,4-19.4-0.6-23.3-9.7l-53.1-129.1l-86.7,89.1C114.7,472.7,96,463.6,96,448V18.3c0-16.4,19.9-24.4,30.3-12.9L410.7,298C422.2,309.2,413.7,329.1,398.2,329.1L398.2,329.1z"/>'
  'pencil-alt':
    '<path d="M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"/>'
  'plus-circle':
    '<path d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"/>'
  'plus-square':
    '<path d="M384,240v32c0,6.6-5.4,12-12,12h-88v88c0,6.6-5.4,12-12,12h-32c-6.6,0-12-5.4-12-12v-88h-88c-6.6,0-12-5.4-12-12v-32c0-6.6,5.4-12,12-12h88v-88c0-6.6,5.4-12,12-12h32c6.6,0,12,5.4,12,12v88h88C378.6,228,384,233.4,384,240z M480,80v352c0,26.5-21.5,48-48,48H80c-26.5,0-48-21.5-48-48V80c0-26.5,21.5-48,48-48h352C458.5,32,480,53.5,480,80z M432,426V86c0-3.3-2.7-6-6-6H86c-3.3,0-6,2.7-6,6v340c0,3.3,2.7,6,6,6h340C429.3,432,432,429.3,432,426z"/>'
  redo:
    '<path d="M500.33 0h-47.41a12 12 0 0 0-12 12.57l4 82.76A247.42 247.42 0 0 0 256 8C119.34 8 7.9 119.53 8 256.19 8.1 393.07 119.1 504 256 504a247.1 247.1 0 0 0 166.18-63.91 12 12 0 0 0 .48-17.43l-34-34a12 12 0 0 0-16.38-.55A176 176 0 1 1 402.1 157.8l-101.53-4.87a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12h200.33a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12z"/>'
  'search-minus':
    '<path d="M304 192v32c0 6.6-5.4 12-12 12H124c-6.6 0-12-5.4-12-12v-32c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm201 284.7L476.7 505c-9.4 9.4-24.6 9.4-33.9 0L343 405.3c-4.5-4.5-7-10.6-7-17V372c-35.3 27.6-79.7 44-128 44C93.1 416 0 322.9 0 208S93.1 0 208 0s208 93.1 208 208c0 48.3-16.4 92.7-44 128h16.3c6.4 0 12.5 2.5 17 7l99.7 99.7c9.3 9.4 9.3 24.6 0 34zM344 208c0-75.2-60.8-136-136-136S72 132.8 72 208s60.8 136 136 136 136-60.8 136-136z"/>'
  'search-plus':
    '<path d="M304 192v32c0 6.6-5.4 12-12 12h-56v56c0 6.6-5.4 12-12 12h-32c-6.6 0-12-5.4-12-12v-56h-56c-6.6 0-12-5.4-12-12v-32c0-6.6 5.4-12 12-12h56v-56c0-6.6 5.4-12 12-12h32c6.6 0 12 5.4 12 12v56h56c6.6 0 12 5.4 12 12zm201 284.7L476.7 505c-9.4 9.4-24.6 9.4-33.9 0L343 405.3c-4.5-4.5-7-10.6-7-17V372c-35.3 27.6-79.7 44-128 44C93.1 416 0 322.9 0 208S93.1 0 208 0s208 93.1 208 208c0 48.3-16.4 92.7-44 128h16.3c6.4 0 12.5 2.5 17 7l99.7 99.7c9.3 9.4 9.3 24.6 0 34zM344 208c0-75.2-60.8-136-136-136S72 132.8 72 208s60.8 136 136 136 136-60.8 136-136z"/>'
  spinner:
    '<path d="M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"/>'
  undo:
    '<path d="M212.333 224.333H12c-6.627 0-12-5.373-12-12V12C0 5.373 5.373 0 12 0h48c6.627 0 12 5.373 12 12v78.112C117.773 39.279 184.26 7.47 258.175 8.007c136.906.994 246.448 111.623 246.157 248.532C504.041 393.258 393.12 504 256.333 504c-64.089 0-122.496-24.313-166.51-64.215-5.099-4.622-5.334-12.554-.467-17.42l33.967-33.967c4.474-4.474 11.662-4.717 16.401-.525C170.76 415.336 211.58 432 256.333 432c97.268 0 176-78.716 176-176 0-97.267-78.716-176-176-176-58.496 0-110.28 28.476-142.274 72.333h98.274c6.627 0 12 5.373 12 12v48c0 6.627-5.373 12-12 12z"/>'

  ## Significantly modified icons, with source SVG (before converting to
  ## outlines) in subdirectory `.iconsrc`:

  'chevron-left-square': # chevron-left scaled to fit in plus-square's square
    '<path d="M480,80v352c0,26.5-21.5,48-48,48H80c-26.5,0-48-21.5-48-48V80c0-26.5,21.5-48,48-48h352C458.5,32,480,53.5,480,80zM432,426V86c0-3.3-2.7-6-6-6H86c-3.3,0-6,2.7-6,6v340c0,3.3,2.7,6,6,6h340C429.3,432,432,429.3,432,426z M168.7,244.6l136-136c6.6-6.6,17.2-6.6,23.8,0l15.9,15.9c6.6,6.6,6.6,17.2,0,23.7L236.5,256.5l107.8,108.3c6.5,6.6,6.5,17.2,0,23.7l-15.9,15.9c-6.6,6.6-17.2,6.6-23.8,0l-136-136C162.1,261.8,162.1,251.2,168.7,244.6z"/>'
  'chevron-right-square': # chevron-right scaled to fit in plus-square's square
    '<path d="M32,432V80c0-26.5,21.5-48,48-48h352c26.5,0,48,21.5,48,48v352c0,26.5-21.5,48-48,48H80C53.5,480,32,458.5,32,432zM80,86v340c0,3.3,2.7,6,6,6h340c3.3,0,6-2.7,6-6V86c0-3.3-2.7-6-6-6H86C82.7,80,80,82.7,80,86z M343.3,267.4l-136,136c-6.6,6.6-17.2,6.6-23.8,0l-15.9-15.9c-6.6-6.6-6.6-17.2,0-23.7l107.8-108.3L167.6,147.2c-6.5-6.6-6.5-17.2,0-23.7l15.9-15.9c6.6-6.6,17.2-6.6,23.8,0l136,136C349.9,250.2,349.9,260.8,343.3,267.4z"/>'
  'clipboard-link': # tweaked clipboard-regular combined with shrank link-solid
    '<path d="M407,64h-87c0-35.3-28.7-64-64-64s-64,28.7-64,64h-87c-26.5,0-48,21.5-48,48v352c0,26.5,21.5,48,48,48h302c26.5,0,48-21.5,48-48V112C455,85.5,433.5,64,407,64z M256,40c13.3,0,24,10.7,24,24s-10.7,24-24,24c-13.3,0-24-10.7-24-24S242.7,40,256,40z M407,458c0,3.3-2.7,6-6,6H110c-3.3,0-5-2.7-5-6V118c0-3.3,1.7-6,5-6h50v36c0,6.6,5.4,12,12,12h168c6.6,0,12-5.4,12-12v-36h49c3.3,0,6,2.7,6,6V458z M291.3,279.2c29.9,29.9,29.5,77.8,0.2,107.3c-0.1,0.1-0.1,0.1-0.2,0.2l-33.6,33.6c-29.6,29.6-77.8,29.6-107.5,0c-29.6-29.6-29.6-77.9,0-107.5l18.6-18.6c4.9-4.9,13.4-1.6,13.6,5.3c0.3,8.9,1.9,17.8,4.8,26.4c1,2.9,0.3,6.1-1.9,8.3l-6.5,6.5c-14,14-14.5,36.8-0.6,51c14,14.3,37,14.4,51.2,0.3l33.6-33.6c14.1-14.1,14-36.9,0-50.9c-1.9-1.8-3.7-3.3-5.2-4.3c-2.1-1.4-3.4-3.8-3.5-6.3c-0.2-5.3,1.7-10.7,5.8-14.9l10.5-10.5c2.8-2.8,7.1-3.1,10.3-0.9C284.7,273.2,288.1,276,291.3,279.2L291.3,279.2z M361.8,208.7c-29.6-29.6-77.8-29.6-107.5,0l-33.6,33.6c-0.1,0.1-0.1,0.1-0.2,0.2c-29.3,29.4-29.7,77.4,0.2,107.3c3.2,3.2,6.6,6,10.3,8.6c3.2,2.2,7.5,1.9,10.3-0.9l10.5-10.5c4.2-4.2,6-9.6,5.8-14.9c-0.1-2.5-1.4-4.9-3.5-6.3c-1.5-1-3.3-2.4-5.2-4.3c-14-14-14.1-36.8,0-50.9l33.6-33.6c14.1-14.1,37.2-14,51.2,0.3c13.9,14.2,13.4,37-0.6,51l-6.5,6.5c-2.2,2.2-2.9,5.4-1.9,8.3c2.9,8.6,4.5,17.5,4.8,26.4c0.3,7,8.7,10.2,13.6,5.3l18.6-18.6C391.4,286.6,391.4,238.4,361.8,208.7L361.8,208.7z"/>'
  'download-svg': # heavily edited file-download-solid plus "SVG" in Impact font
    '<path d="M424,0h-97.9H320h-32H88C74.7,0,64,10.7,64,24v159v305c0,13.3,10.7,24,24,24h336c13.3,0,24-10.7,24-24V183v-23v-32v-6.1V24 C448,10.7,437.3,0,424,0z M364.5,377.4L268,473.1c-6.7,6.6-17.4,6.6-24,0l-96.4-95.7c-10.2-10.1-3-27.4,11.3-27.4H224v-80 c0-8.8,7.2-16,16-16h32c8.8,0,16,7.2,16,16v80h65.2C367.5,350,374.6,367.3,364.5,377.4z M192,101h-38.3V88.2c0-6-0.5-9.8-1.5-11.4 c-1-1.6-2.6-2.5-4.9-2.5c-2.5,0-4.4,1.1-5.6,3.3c-1.3,2.2-1.9,5.6-1.9,10.1c0,5.8,0.7,10.1,2.1,13.1c1.4,2.9,5.2,6.5,11.6,10.6 c18.3,11.9,29.9,21.7,34.7,29.3c4.8,7.6,7.1,19.9,7.1,36.9c0,12.3-1.3,21.4-4,27.3c-2.6,5.8-7.7,10.7-15.3,14.7 c-7.6,4-16.4,5.9-26.4,5.9c-11,0-20.4-2.3-28.2-6.8c-7.8-4.6-12.9-10.4-15.3-17.4c-2.4-7.1-3.6-17.1-3.6-30v-11.3h38.3v21.1 c0,6.5,0.5,10.7,1.6,12.5c1.1,1.9,3,2.8,5.7,2.8c2.7,0,4.8-1.2,6.1-3.5c1.3-2.4,2-5.8,2-10.5c0-10.2-1.3-16.9-3.8-20 c-2.6-3.1-9-8.4-19.3-15.7c-10.2-7.4-17-12.8-20.4-16.1c-3.3-3.4-6.1-8-8.3-13.9c-2.2-5.9-3.3-13.5-3.3-22.7c0-13.3,1.5-23,4.6-29.1 c3.1-6.1,8.1-10.9,15-14.4c6.9-3.5,15.3-5.2,25.1-5.2c10.7,0,19.8,1.9,27.4,5.7c7.5,3.8,12.5,8.5,15,14.3c2.4,5.7,3.7,15.5,3.7,29.2 V101z M306.3,48.6l-21,173.1h-62.6L198.9,48.6h43.5c5.1,47.7,8.7,88,10.8,121c2.1-33.4,4.4-63,6.8-88.9l2.9-32.2H306.3z M407.8,112.3h-41.2V96.6c0-9.9-0.4-16.1-1.2-18.6c-0.8-2.5-2.6-3.7-5.6-3.7c-2.5,0-4.3,1.1-5.2,3.2c-0.9,2.1-1.4,7.6-1.4,16.5V177 c0,7.8,0.5,12.9,1.4,15.3c0.9,2.5,2.7,3.7,5.5,3.7c3,0,5-1.4,6.1-4.2c1.1-2.8,1.6-8.2,1.6-16.3v-20.5h-8.3v-26.3h48.3v92.9h-25.9 l-3.8-12.4c-2.8,5.3-6.4,9.4-10.6,12c-4.3,2.7-9.3,4-15.1,4c-6.9,0-13.4-1.8-19.4-5.5c-6-3.7-10.6-8.2-13.8-13.6 c-3.1-5.4-5.1-11.1-5.9-17.1c-0.8-6-1.2-14.9-1.2-26.8v-51.4c0-16.5,0.8-28.5,2.4-36c1.6-7.5,6.3-14.3,14-20.6 c7.7-6.2,17.7-9.4,30-9.4c12.1,0,22.1,2.7,30,8.1c8,5.4,13.1,11.9,15.6,19.3c2.4,7.4,3.6,18.3,3.6,32.5V112.3z"/>'
  ellipse: # edited rect below
    '<path d="M256,468c-67.1,0-130.5-21.2-178.4-59.8c-24-19.3-42.9-41.9-56.3-67.3C7.2,314.1,0,285.5,0,256s7.2-58.1,21.3-85 c13.3-25.3,32.3-48,56.3-67.3C125.5,65.2,188.9,44,256,44c67.1,0,130.5,21.2,178.4,59.8c24,19.3,42.9,41.9,56.3,67.3 c14.1,26.8,21.3,55.4,21.3,85s-7.2,58.1-21.3,85c-13.3,25.3-32.3,48-56.3,67.3C386.5,446.8,323.1,468,256,468z M256,108 c-52.6,0-101.7,16.2-138.3,45.7C83.1,181.5,64,217.8,64,256s19.1,74.5,53.7,102.3C154.3,387.8,203.4,404,256,404 c52.6,0,101.7-16.2,138.3-45.7C428.9,330.5,448,294.2,448,256s-19.1-74.5-53.7-102.3C357.7,124.2,308.6,108,256,108z"/>'
  grid: # edited border-all to extend (more) beyond square
    '<rect x="52" width="64" height="512"/><rect x="224" width="64" height="512"/><rect x="396" width="64" height="512"/><rect y="52" width="512" height="64"/><rect y="224" width="512" height="64"/><rect y="396" width="512" height="64"/>'
  rect: # edited square to have wider aspect ratio and as thick as segment
    '<path d="M480,460.5c0,0-0.1,0-0.1,0l-448-2C14.2,458.4,0,444.1,0,426.5V83.5C0,75,3.4,66.8,9.4,60.8c6-6,14.1-9.3,22.6-9.3c0,0,0.1,0,0.1,0l448,2c17.6,0.1,31.9,14.4,31.9,32v343.1c0,8.5-3.4,16.7-9.4,22.7C496.6,457.2,488.5,460.5,480,460.5z M64,394.7l384,1.7V117.3l-384-1.7V394.7z"/>'
  segment: # based on line thickness from grid / border-all
    '<path d="M32,512c-8.2,0-16.4-3.1-22.6-9.4c-12.5-12.5-12.5-32.8,0-45.3l448-448c12.5-12.5,32.8-12.5,45.3,0c12.5,12.5,12.5,32.8,0,45.3l-448,448C48.4,508.9,40.2,512,32,512z"/>'
  text: # combination of font and i-cursor (with 16px offset subtracted)
    '<path d="M514,52V12c0-6.6-5.3-11.9-11.8-12C469.6-0.3,424.5,0,386,38C348.3,0.7,305-0.1,269.9,0.1c-6.6,0-11.9,5.4-11.9,12v39.6c0,6.7,5.5,12.1,12.1,12c26-0.3,83.9,3.5,83.9,48.4V224h-36c-6.6,0-12,5.4-12,12v40c0,6.6,5.4,12,12,12h36v112c0,44.9-56.1,48-84,48c-6.6,0-12,5.3-12,12v40c0,6.6,5.3,11.9,11.8,12c32.5,0.4,77.7,0.1,116.2-37.9c37.7,37.2,81,38.1,116.1,37.8c6.6,0,11.9-5.4,11.9-12v-39.6c0-6.7-5.5-12.1-12.1-12c-26,0.3-83.9-3.3-83.9-48.2V288h36c6.6,0,12-5.4,12-12v-40c0-6.6-5.4-12-12-12h-36V112.2c0-44.9,56.1-48.2,84-48.1C508.6,64.1,514,58.7,514,52z M310.2,410.9l-129-357.5C176.9,40.6,164.9,32,151.3,32h-46.6c-13.5,0-25.6,8.6-29.9,21.4L0,260.9v213.2h49.1c8.7,0,15.8-7.1,15.8-15.8v-31.6c0-8.7-7.1-15.8-15.8-15.8H29.8l23-63.2h150.6l23,63.2H207c-8.7,0-15.8,7.1-15.8,15.8v31.6c0,8.7,7.1,15.8,15.8,15.8h39V460c0-13.2,10.8-24,24-24c49.4,0,64.9-12.8,69.8-23.6c-2-0.9-4.2-1.4-6.5-1.4H310.2z M81.6,268.8L128,141l46.5,127.8H81.6z"/>'

export viewSize = 512

viewBox = " viewBox=\"0 0 #{viewSize} #{viewSize}\""

formatAttrs = (attrs) ->
  parts = []
  for key, value of attrs
    parts.push "#{key}=\"#{value}\""
  if parts.length
    ' ' + parts.join ' '
  else
    ''

## Look up icon in list of icons, if not already done so.
## Mainly a helper function for other functions in this library.
export getIcon = (icon) ->
  if icon of icons
    icons[icon]
  else
    icon

## Add fill/stroke/transform/etc. attributes to all <path> elements in icon
export modIcon = (icon, attrs) ->
  icon = getIcon icon
  icon.replace /<path\b/g, "$&#{formatAttrs attrs}"

## Wrap icon in <svg>...</svg> tag
export svgIcon = (icon, attrs) ->
  icon = getIcon icon
  """<svg xmlns="http://www.w3.org/2000/svg"#{viewBox}#{formatAttrs attrs}>#{icon}</svg>"""

## Stack icons, from bottom to top, just by concatenation
export stackIcons = (iconList) ->
  (for icon in iconList
    getIcon icon
  ).join ''

## Icons as mouse cursors

export cursorSize = 32
viewScale = viewSize / cursorSize

round = (frac) ->
  Math.round frac * (cursorSize-1)

export cursorIcon = (icon, xFrac, yFrac) ->
  icon = getIcon icon
  svgIcon icon,
    width: cursorSize
    height: cursorSize
  .replace ///</svg>///, """
    <circle fill="red" cx="#{round(xFrac) * viewScale}" cy="#{round(yFrac) * viewScale}" r="#{viewScale * 2}"/>
    $&"""

export setCursor = (dom, icon, xFrac, yFrac) ->
  svg = encodeURIComponent cursorIcon icon, xFrac, yFrac
  dom.style.cursor = "url('data:image/svg+xml,#{svg}') #{round xFrac} #{round yFrac}, crosshair"
